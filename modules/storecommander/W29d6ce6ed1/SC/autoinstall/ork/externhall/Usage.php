<?php
/*
StoreCommander
*/
 class ExternHallUsage { private $DB_TABLE_NAME = "\x73\164\157\162\x65\143\157\x6d\x5f\165\x73\x61\147\145"; private $allowedInterfaces = array("\140\141\x6c\x6c\x60", "\140\143\141\x74\x60", "\x60\x63\155\x73\x60", "\140\x63\x6f\x72\x65\x60", "\140\143\x75\163\x60", "\140\143\x75\x73\155\x60", "\140\155\x61\x6e\x60", "\140\157\162\x64\140", "\140\163\145\162\140", "\140\163\x75\x70\x60"); private $params; public function __construct($payloadParams = null) { $this->params = $payloadParams; } public function doProcess() { goto pxrpf; slUi1: if (!((int) $apiResult["\x63\157\144\x65"] == 200 && (string) $apiResult["\x72\145\x73\165\x6c\164"] == "\x63\x61\x6e\137\x72\145\163\x65\x74\x5f\x75\x73\141\147\x65")) { goto xXkJw; } goto akM1c; V037o: J_t5K: goto Yhi3W; pZc97: $sql = "\125\x50\104\101\x54\105\40\140" . _DB_PREFIX_ . $this->DB_TABLE_NAME . "\x60\x20\x53\105\124\x20" . pSQL($todo) . "\40\127\x48\x45\122\x45\x20\151\x64\137\x73\x74\157\162\145\143\157\x6d\137\165\x73\141\x67\145\40\x3d\x20\x31"; goto jf2xt; akM1c: $todo = implode("\75\116\125\114\x4c\54\40", $this->allowedInterfaces) . "\x3d\x4e\125\x4c\x4c"; goto pZc97; Yhi3W: return true; goto MVbMn; WcmUw: unset($usageData["\151\x64\x5f\163\x74\x6f\x72\x65\143\157\x6d\137\x75\163\141\x67\145"]); goto ztmNJ; t43JS: xXkJw: goto V037o; jf2xt: Db::getInstance()->execute($sql); goto t43JS; ztmNJ: $apiResult = makeDefaultCallToOurApi("\x65\170\x74\145\x72\x6e\150\141\x6c\x6c\57\x75\x73\141\147\145\x2f\141\x64\x64", array(), array("\x61\x63\x74\x69\157\x6e\137\151\x64" => $this->params["\141\x63\x74\151\157\x6e\x5f\151\144"], "\x75\163\141\x67\145" => json_encode($usageData))); goto slUi1; pxrpf: $usageData = Db::getInstance()->getRow("\x53\105\114\105\x43\124\x20\x2a\40\xa\x20\40\x20\40\40\x20\40\x20\x20\x20\x20\x20\40\40\40\x20\40\x20\40\x20\x20\x20\x20\40\40\40\40\x20\x20\40\x20\40\x20\x20\x20\40\40\x20\x20\x20\x20\40\40\40\x20\x20\40\40\x20\x20\x20\x20\106\x52\117\x4d\40\140" . _DB_PREFIX_ . $this->DB_TABLE_NAME . "\140\x20\xa\x20\40\x20\40\40\40\40\x20\40\x20\40\40\40\x20\40\40\x20\40\40\x20\x20\40\40\x20\x20\40\40\40\40\40\40\x20\x20\40\x20\x20\x20\40\x20\x20\40\x20\40\40\40\40\x20\40\40\x20\x20\x20\x57\110\105\x52\x45\40\151\x64\137\x73\x74\x6f\162\x65\143\x6f\x6d\x5f\x75\x73\x61\147\x65\40\75\40\61\40\xa\40\40\40\40\x20\40\x20\40\x20\x20\x20\40\x20\x20\40\40\40\x20\40\40\40\40\40\40\40\x20\40\x20\x20\x20\40\40\40\40\x20\x20\x20\40\x20\40\x20\40\x20\40\x20\x20\40\x20\40\x20\40\40\101\116\104\x20\x63\157\x61\154\x65\163\143\145\50" . pSQL(implode("\54\40", $this->allowedInterfaces)) . "\51\40\x49\123\40\116\117\124\40\x4e\125\114\114"); goto W2BPt; W2BPt: if (!$usageData) { goto J_t5K; } goto WcmUw; MVbMn: } }
