<?php
/*
StoreCommander
*/
 goto nL8qg; c7iKX: $distant_secret = (string) $_SERVER["\x48\x54\x54\x50\137\x4f\x43\111\x53\x45\103\122\105\x54"]; goto VZ4jK; fNa4A: R343w: goto wVGKG; ofq7O: if (!(!array_key_exists("\110\124\124\x50\137\x4f\x43\111\x41\x55\124\110", $_SERVER) || !array_key_exists("\110\124\124\x50\137\117\x43\111\126\105\122\x53\x49\117\116", $_SERVER) || !array_key_exists("\x48\124\124\120\x5f\117\x43\111\x53\x45\x43\x52\x45\x54", $_SERVER))) { goto CYMW0; } goto pCMAW; kHS9R: foreach ($local_images as $local_image) { $tmp[$local_image["\151\x64\x5f\x73\x74\157\x72\x65\x63\157\155\x5f\151\155\141\147\145\146\x69\154\145"]] = $local_image; gyHDT: } goto YFOd_; Ijpp5: if (array_key_exists("\110\x54\x54\x50\x5f\117\x43\111\101\125\x54\110", $_SERVER)) { goto FYE3a; } goto pRAkS; G8TOY: O6YIO: goto WNuUV; fA7mN: $param_err[] = "\166\x65\162\163\x69\157\x6e"; goto d24Qd; mnBBI: $param_err[] = "\163\145\x63\x72\x65\x74"; goto mMJyI; An5DV: dACm4: goto n88qI; p0vYR: $param_err[] = "\163\x65\x63\162\x65\x74"; goto eX4SX; NW951: PrestaShopLogger::addLog($log_id . "\40\x45\122\x52\72\x20\x4d\151\163\163\151\x6e\147\x20\x70\x61\x72\x61\x6d\40\72\40" . implode("\x2c", $param_err), 1, null, null, null, true); goto fNa4A; n88qI: $sc_folder_hash = Configuration::get("\123\103\x5f\x46\117\x4c\104\x45\122\137\110\101\123\x48", null, 0, 0); goto p5Bg3; kiwwJ: SO6MN: goto qMX65; jMaFm: PrestaShopLogger::addLog($log_id . "\x20\x45\122\122\x3a\x20\x57\x72\157\156\x67\40\160\141\x72\141\x6d\40\x3a\x20" . implode("\54", $param_err), 1, null, null, null, true); goto Qe4_W; ZZdRn: $distant_auth = (string) $_SERVER["\110\x54\x54\120\137\117\103\x49\x41\x55\x54\x48"]; goto jwdNy; qMX65: require_once _PS_MODULE_DIR_ . $current_sc_module_folder_name . "\x2f" . $sc_folder_hash . "\57\x53\103\57\151\x6e\151\x74\x5f\163\143\x2e\160\x68\160"; goto YF6d7; M2ddy: $_POST = array("\x61\x63\x74\x69\157\x6e" => "\x6d\141\x70\x70\151\156\147\x5f\x70\162\157\143\145\x73\x73", "\141\x6a\x61\x78" => 1); goto JYqO7; p5Bg3: if (!empty($scFolderHash)) { goto mO9BW; } goto DEC3V; tjDPm: goto WwCAf; goto lwCIx; JYqO7: $current_sc_module_folder_name = basename(realpath("\x2e\x2e\x2f\56\56\57")); goto Hi0tP; lwCIx: q0CbG: goto uPQ9b; naox_: if (!($local_auth !== $distant_auth)) { goto UPSWw; } goto VVkgF; G_jGW: $local_images = $tmp; goto Jsnn2; xkj3V: if (empty($sql)) { goto tkY6d; } goto aiVQX; k6mM6: $_POST = null; goto NTb7w; cPHEx: goto OPygT; goto T9Tpw; cuCAc: if (version_compare(_PS_VERSION_, "\x31\56\x36\56\x30\56\63", "\76\x3d")) { goto JbLjR; } goto pw0fB; DSVza: $local_cached_image = array(); goto TwchJ; aXe_c: $param_err[] = "\144\x69\x73\x74\141\156\x74\137\x69\155\141\x67\x65\x73"; goto Ff78v; Z4p50: if (!empty($local_images)) { goto q0CbG; } goto XYN2s; w1uLj: fyGTC: goto cuCAc; FMdgB: i5dPY: goto ZZdRn; AwYR7: $param_err[] = "\x64\151\x73\164\141\x6e\x74\x5f\x69\x6d\141\x67\145\x73"; goto Q_W2l; aiVQX: try { goto r99Mv; ujJ0h: $percent_error = (double) round($error_rows / $treated_rows * 100, 0); goto V2yv0; XDHrz: foreach ($sql as $rowSql) { $savingDone += (int) Db::getInstance()->execute($rowSql); A8Eje: } goto BXz6W; bz5gb: $error_rows = (int) $error_rows[0]["\156\x62"]; goto P2UW1; r99Mv: $savingDone = 0; goto XDHrz; P2UW1: $treated_rows = (int) $treated_rows[0]["\x6e\x62"]; goto ujJ0h; V1n3C: Db::getInstance()->Execute("\125\x50\x44\101\x54\x45\x20" . _DB_PREFIX_ . "\x73\164\157\x72\145\x63\157\x6d\x5f\151\155\x61\x67\x65\x66\x69\x6c\x65\xa\40\40\40\40\x20\40\40\x20\40\40\40\40\x20\x20\x20\40\40\x20\x20\40\x20\40\40\40\40\40\x20\x20\x20\40\40\40\40\40\x20\x20\40\40\40\40\40\40\x20\40\123\105\x54\40\x73\151\172\145\137\163\x61\x76\x65\144\40\75\40\x49\x46\x28\163\x69\172\x65\137\143\x6f\x6d\x70\162\145\163\x73\x65\x64\x20\76\x20\60\x2c\x73\151\x7a\x65\137\x6f\x72\x69\147\151\156\55\x73\x69\172\145\137\x63\x6f\155\160\x72\145\x73\163\x65\x64\54\x30\51\54\12\x20\x20\40\40\40\x20\x20\x20\x20\40\40\40\40\40\x20\40\x20\40\40\40\40\x20\x20\x20\40\x20\x20\x20\40\40\x20\x20\40\40\x20\x20\x20\40\x20\40\40\x20\x20\40\144\x61\x74\x65\x5f\x63\x61\154\x6c\142\x61\143\x6b\75\116\x4f\127\50\x29\xa\x20\40\x20\40\40\x20\40\40\40\x20\40\x20\x20\x20\40\40\40\40\40\40\x20\x20\40\x20\40\40\x20\x20\40\x20\40\x20\x20\x20\x20\x20\40\x20\40\40\40\x20\40\x20\x57\x48\x45\122\105\40\x69\x64\137\163\x74\x6f\162\x65\x63\157\155\x5f\x69\x6d\141\x67\x65\x66\151\154\x65\x20\x49\116\40\x28" . pSQL(implode("\x2c", $local_cached_image)) . "\51"); goto SFtaA; r3RRb: if (!$savingDone) { goto Flibs; } goto V1n3C; SFtaA: $error_rows = Db::getInstance()->ExecuteS("\x53\x45\114\105\x43\124\x20\103\x4f\125\116\124\x28\151\144\137\163\164\157\162\145\x63\x6f\155\137\x69\155\141\x67\145\x66\x69\x6c\145\x29\40\141\163\x20\156\x62\xa\40\x20\x20\x20\40\x20\40\x20\40\x20\x20\40\40\40\x20\40\40\x20\40\40\x20\40\x20\40\40\40\x20\x20\40\x20\40\40\40\40\x20\x20\x20\x20\x20\x20\40\40\x20\x20\40\40\40\x20\x20\x20\40\40\40\x20\x20\40\40\x20\40\x20\106\122\117\x4d\40" . _DB_PREFIX_ . "\x73\x74\157\162\145\143\x6f\x6d\x5f\x69\x6d\141\147\145\x66\x69\x6c\145\xa\x20\x20\x20\40\40\x20\x20\40\x20\40\40\40\40\40\40\x20\40\40\x20\40\40\40\40\40\40\40\x20\40\40\40\x20\x20\40\x20\x20\40\x20\x20\x20\40\x20\40\x20\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\x20\x20\x20\x20\x20\40\x57\110\x45\x52\105\x20\x73\164\141\x74\x75\x73\40\75" . (int) $compression_status["\145\x72\162\157\162"] . "\xa\40\x20\40\40\40\x20\x20\40\x20\x20\40\x20\x20\40\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\x20\x20\x20\40\x20\x20\x20\40\40\x20\x20\x20\40\40\40\x20\40\40\x20\40\40\x20\40\x20\40\40\40\x20\x20\40\x20\40\40\40\40\x41\x4e\x44\x20\143\x6f\x75\156\x74\x5f\x63\x6f\155\160\162\x65\163\x73\x69\x6f\x6e\x5f\162\145\x71\165\145\x73\x74\40\x3d\40\63\12\x20\x20\x20\x20\40\x20\x20\x20\x20\40\40\x20\40\40\x20\x20\x20\40\x20\x20\40\40\40\x20\40\40\x20\40\x20\40\40\x20\40\40\40\40\40\40\40\40\40\40\40\x20\40\40\x20\40\x20\40\x20\x20\40\40\x20\x20\x20\40\40\40\117\122\x44\x45\122\40\102\x59\x20\144\x61\164\x65\x5f\x63\x61\154\x6c\x62\141\x63\x6b\40\104\105\123\103\xa\40\x20\40\x20\40\x20\x20\40\x20\40\40\40\40\x20\40\40\x20\40\x20\40\40\40\40\x20\x20\x20\x20\x20\x20\40\x20\x20\x20\x20\x20\40\40\40\x20\40\40\40\40\x20\40\40\x20\40\x20\x20\40\40\40\40\x20\40\40\x20\x20\40\114\111\x4d\111\124\x20\x31\x30\60\60"); goto Ypdlz; Ypdlz: $treated_rows = Db::getInstance()->ExecuteS("\x53\x45\x4c\105\103\x54\40\103\x4f\125\116\x54\x28\x69\x64\x5f\x73\x74\x6f\162\x65\143\x6f\x6d\137\151\x6d\141\x67\x65\146\x69\154\x65\x29\40\x61\163\40\156\x62\xa\40\40\40\x20\x20\x20\40\40\40\x20\x20\x20\40\40\x20\40\40\40\40\x20\40\x20\40\x20\40\40\40\x20\x20\40\40\40\x20\x20\40\40\40\x20\40\40\40\x20\x20\x20\40\40\40\40\40\x20\x20\40\40\40\40\x20\x20\x20\x20\x20\x46\122\x4f\x4d\x20" . _DB_PREFIX_ . "\163\x74\157\x72\145\x63\x6f\155\137\151\155\x61\147\145\146\151\x6c\x65\12\40\x20\40\40\x20\x20\40\40\40\40\40\40\40\40\40\40\40\x20\x20\40\x20\40\40\x20\x20\x20\x20\x20\40\x20\40\40\x20\x20\40\40\40\x20\x20\x20\40\x20\x20\x20\x20\40\40\40\x20\x20\40\x20\x20\x20\x20\40\x20\40\x20\40\x57\110\x45\122\105\x20\x73\164\x61\x74\165\x73\x20\76\x20\x30\12\x20\40\x20\40\x20\x20\x20\40\40\40\40\40\40\x20\40\x20\x20\x20\40\40\x20\40\x20\40\40\x20\x20\x20\x20\40\40\x20\x20\40\40\x20\x20\x20\40\40\x20\40\x20\40\40\40\40\x20\40\40\x20\x20\x20\40\x20\x20\x20\x20\40\40\117\122\104\x45\x52\40\102\131\40\144\x61\164\x65\137\x63\141\154\x6c\142\141\143\x6b\x20\104\105\x53\103\12\x20\40\40\x20\40\40\x20\40\40\x20\x20\40\40\40\40\40\x20\40\x20\40\40\40\40\x20\40\x20\x20\40\x20\40\x20\x20\40\40\x20\40\40\40\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\40\40\x20\x20\x20\40\40\x20\x20\x20\x20\114\x49\115\111\x54\40\61\60\60\60"); goto bz5gb; BXz6W: MVHYp: goto r3RRb; xZtSR: SCI::updateConfigurationValue("\123\103\137\x49\115\x41\107\105\103\x4f\115\120\122\105\x53\x53\111\117\x4e\137\101\103\124\x49\126\105", (int) $data["\x63\157\155\160\162\145\163\163\x69\157\x6e\x5f\141\x63\x74\x69\166\145"]); goto pbgzW; pbgzW: makeCallToOurApi("\103\157\x6d\x70\x72\x65\163\163\151\x6f\156\57\x41\143\164\151\x76\x65", array(), $data); goto uBg12; V2yv0: if (!($percent_error > 30)) { goto YGTCw; } goto AwRG2; AwRG2: $access_details = access_details(); goto m0jyX; uBg12: YGTCw: goto NMxFI; NMxFI: Flibs: goto QeL7D; m0jyX: $data = array("\x4c\x49\103\x45\116\123\105" => "\x23", "\x44\117\115\101\x49\116" => getShopProtocol() . $access_details["\x64\x6f\155\141\x69\x6e"] . __PS_BASE_URI__, "\x53\103\137\x55\x4e\111\121\x55\105\x5f\x49\104" => SCI::getConfigurationValue("\x53\x43\x5f\125\116\x49\121\x55\105\x5f\x49\x44"), "\x63\x6f\x6d\x70\x72\x65\x73\x73\151\x6f\x6e\x5f\x61\143\164\x69\x76\x65" => 3); goto xZtSR; QeL7D: } catch (Exception $e) { SCI::addLog($log_id . "\40\105\122\x52\x5f\123\x51\114\72\40\40\165\x70\144\x61\164\145\x5f\x64\x62\40" . $e->getMessage(), 1, null, null, null, true); } goto jCE2v; jCE2v: tkY6d: goto kzIoE; YF6d7: require_once _PS_MODULE_DIR_ . SC_MODULE_FOLDER_NAME . "\x2f" . $sc_folder_hash . "\x2f\123\x43\57\154\x69\x62\x2f\163\145\x72\x2f\167\x69\x6e\x2d\x69\x6d\141\x67\145\143\157\155\x70\x72\x65\163\x73\151\x6f\156\57\x73\145\x72\x5f\x77\151\x6e\x2d\x69\155\x61\x67\145\143\x6f\x6d\x70\162\145\x73\x73\x69\157\156\x5f\x74\x6f\157\154\163\x2e\x70\x68\x70"; goto Wk_Vd; bV0B7: $param_err = array(); goto naox_; Ghn14: $sql = array(); goto LM8E2; Tb4Bk: if (!(!$scInstalled || !Module::isEnabled($current_sc_module_folder_name))) { goto eUfhw; } goto STWd0; pbUVa: $current_sc_module_folder_name = basename(realpath("\x2e\56\57\56\x2e\57")); goto h1r9l; QG3At: $scInstalled = $moduleDataProvider->isInstalled($current_sc_module_folder_name); goto YXaBD; U0f9R: $param_err[] = "\166\x65\x72\163\151\x6f\x6e"; goto E6vY1; Nqe3r: if (array_key_exists("\x48\124\124\120\137\117\x43\111\x56\x45\122\x53\x49\117\116", $_SERVER)) { goto JtyoR; } goto fA7mN; b3dl7: $local_images = Db::getInstance()->ExecuteS("\x53\105\x4c\x45\x43\124\x20\x2a\xa\x20\40\40\40\x20\40\x20\40\x20\x20\x20\x20\x20\40\40\x20\40\x20\40\40\x20\40\40\x20\x20\40\x20\40\40\40\x20\x20\40\40\x20\40\40\x20\40\40\40\40\40\x20\106\x52\117\x4d\x20" . _DB_PREFIX_ . "\x73\164\x6f\162\x65\x63\157\155\137\x69\x6d\141\147\145\x66\x69\x6c\145\12\40\x20\x20\40\40\x20\x20\x20\40\x20\x20\40\40\40\40\40\x20\x20\x20\40\x20\40\x20\40\40\x20\40\40\40\x20\40\40\x20\40\x20\x20\x20\40\x20\40\40\40\40\40\x57\110\x45\x52\105\x20\x69\144\137\163\x74\157\x72\145\x63\157\155\137\151\155\x61\147\x65\146\151\154\145\x20\111\116\40\50" . pSQL(implode("\54", $local_cached_image)) . "\x29"); goto Z4p50; jwdNy: $distant_version = (string) $_SERVER["\110\x54\x54\120\x5f\x4f\x43\111\x56\105\x52\123\111\x4f\116"]; goto c7iKX; cimB8: if (array_key_exists("\110\124\124\120\x5f\117\103\x49\x53\x45\103\122\105\x54", $_SERVER)) { goto fyGTC; } goto kWF6b; STWd0: header("\110\x54\x54\x50\57\x31\56\x31\x20\x34\x30\63\40\x46\157\162\x62\151\x64\144\145\x6e"); goto G9N8a; bOK9F: if (!empty($_SERVER["\110\x54\124\120\x5f\x4f\x43\x49\123\x45\103\x52\x45\124"])) { goto IWKwQ; } goto p0vYR; B0YSl: $local_version = "\62\x2e\60\x2e\x30"; goto rwrTD; cBigf: $log_id = "\123\x43\137\111\x6d\x67\x43\x5f\x63\141\154\x6c\x62\x61\x63\153"; goto k6mM6; ljYsS: mO9BW: goto K0wZM; CZUaK: $param_err = array(); goto nvhM3; pCMAW: $param_err = array(); goto Ijpp5; C7jSh: if (!(empty($_SERVER["\x48\x54\124\120\137\x4f\x43\x49\x41\x55\x54\110"]) || empty($_SERVER["\110\124\124\x50\x5f\117\x43\111\x56\105\x52\123\111\117\116"]) || empty($_SERVER["\x48\x54\x54\120\137\117\103\x49\x53\x45\x43\122\105\124"]) || empty($distant_images))) { goto i5dPY; } goto CZUaK; ukUD8: $scInstalled = Module::isInstalled($current_sc_module_folder_name); goto cPHEx; gKMCb: eUfhw: goto cBigf; WNuUV: if (!empty($_SERVER["\x48\x54\124\x50\137\117\103\x49\x56\105\x52\x53\111\117\x4e"])) { goto Gm102; } goto AK5y0; H4dYV: if (!($local_auth !== $distant_auth || $local_version !== $distant_version || $local_secret !== $distant_secret || !is_array($distant_images))) { goto dACm4; } goto bV0B7; Jsnn2: WwCAf: goto Ghn14; fJGHy: fRQ01: goto jMaFm; TwchJ: foreach ($distant_images as $distant_image) { $local_cached_image[] = (int) $distant_image["\x69\x64\151\155\147"]; BOqL5: } goto A91S_; kYYPE: if (!($local_secret !== $distant_secret)) { goto Vw4dj; } goto mnBBI; Qe4_W: QlR7_: goto yUrvv; s0dkx: if (!empty($distant_images)) { goto pY6IO; } goto AwYR7; KrXXt: goto QlR7_; goto fJGHy; A91S_: SQHE7: goto b3dl7; kWF6b: $param_err[] = "\x73\145\x63\x72\145\164"; goto w1uLj; h1r9l: if (version_compare(_PS_VERSION_, "\61\56\67", "\76\x3d")) { goto L2Lkn; } goto ukUD8; rwrTD: $local_secret = "\170\x75\x44\114\147\x77\x32\110\127\164\x4c\153\145\162\x47\x55\x39\x73\65\x46\x67\x47\x4f\x63\x32\102\146\x35\67\x36\x6e\104"; goto H4dYV; JjwqE: die; goto tjDPm; Hi0tP: if (file_exists(_PS_MODULE_DIR_ . $current_sc_module_folder_name . "\x2f" . $sc_folder_hash)) { goto SO6MN; } goto Rk6WY; G9N8a: die; goto gKMCb; VVkgF: $param_err[] = "\141\x75\x74\150"; goto DDBeO; Wk_Vd: $domain_compressor = "\x62\x37\62\60\143\x33\144\67\x39\142\60\61\x35\x36\x31\x63\71\60\x31\62\x33\61\x34\x64\143\x32\64\66\63\63\65\x34\143\x32\70\62\64\x36\71\x62\x32\141\x39\63\x35\x37\x62\x63\x64\67\x62\x38\x31\66\x36\60\67\x37\70\x61\x63\x30\65\146"; goto DSVza; LM8E2: foreach ($distant_images as $distant_image) { goto XBFE0; EEtGW: SCI::addLog($log_id . "\x20\105\122\122\x5f\111\x4d\107\72\40\127\162\x6f\156\x67\40\x69\x6d\141\147\x65\40\x61\x75\164\x68\x20\x3a\40" . $distant_image["\165\162\154"], 1, null, null, null, true); goto gfqKh; aFPCH: goto pzxWA; goto DYrq2; yUUUu: $ork_info = array("\x6f\x72\153\x5f\163\164\141\x74\165\x73" => $distant_image["\157\x72\153\x5f\x73\x74\x61\164\x75\x73"], "\x6f\x72\x6b\137\x73\164\x61\x74\x75\x73\137\x6d\x65\x73\163\x61\x67\145" => $distant_image["\157\162\x6b\137\x73\141\164\165\x73\x5f\x6d\x65\163\163\x61\147\x65"]); goto LGV3k; F6oHz: w4v5l: goto hKwiN; hKwiN: EYvk1: goto MZD_H; XBFE0: if ($distant_image["\x61\165\164\x68"] == $local_auth) { goto TvAC6; } goto EEtGW; quyS7: eZNvF: goto f1IXY; SP_7u: if (array_key_exists($distant_image["\151\144\151\x6d\x67"], $local_images)) { goto bxuhn; } goto jN_Z_; LGV3k: switch ((int) $distant_image["\x6f\x72\153\137\163\x74\x61\x74\165\x73"]) { case 3: $sql[] = "\x55\x50\104\x41\x54\105\x20" . _DB_PREFIX_ . "\x73\164\157\x72\x65\143\x6f\155\x5f\151\155\141\147\145\146\151\x6c\x65\x20\123\x45\x54\40\140\x73\164\x61\164\165\x73\x60\x20\x3d\x20" . (int) $compression_status["\145\162\162\157\x72"] . "\x2c\40\x60\157\x72\153\x5f\151\156\146\x6f\140\75\40\42" . pSQL(json_encode($ork_info)) . "\42\40\127\110\105\122\105\x20\x60\151\x64\x5f\x73\164\x6f\x72\145\143\157\155\137\x69\x6d\x61\147\145\146\151\x6c\145\x60\x20\75\x20" . (int) $distant_image["\151\x64\x69\x6d\x67"]; goto jfi6w; case 4: $sql[] = "\x55\120\x44\x41\124\105\40" . _DB_PREFIX_ . "\163\164\x6f\x72\145\x63\x6f\155\x5f\151\155\141\x67\145\146\x69\x6c\x65\40\x53\x45\x54\x20\140\x73\x74\x61\164\165\163\140\x20\x3d\x20" . (int) $compression_status["\x69\147\x6e\x6f\162\145\x64"] . "\54\40\140\157\162\x6b\x5f\151\156\x66\x6f\x60\x3d\40\42" . pSQL(json_encode($ork_info)) . "\42\x20\127\110\x45\x52\105\40\140\151\x64\x5f\163\164\x6f\162\145\x63\157\155\x5f\x69\x6d\x61\147\145\146\x69\154\x65\140\x20\75\40" . (int) $distant_image["\151\144\x69\x6d\x67"]; goto jfi6w; default: goto paj78; paj78: $compressed_domain_url = parse_url($distant_image["\143\x6f\x6d\160\x72\145\x73\163\145\x64\x5f\x75\x72\154"], PHP_URL_HOST); goto C9hor; a05w3: hhv2p: goto g_YRg; JCqE8: $sql[] = "\125\120\104\x41\124\105\40" . _DB_PREFIX_ . "\x73\164\x6f\x72\145\x63\157\155\x5f\151\x6d\141\x67\145\146\151\x6c\x65\x20\x53\x45\124\40\140\x73\x74\x61\164\x75\x73\x60\40\75\x20" . (int) $compression_status["\x65\162\162\157\162"] . "\54\40\x60\157\162\153\x5f\151\156\146\157\x60\x3d\40\42" . pSQL(json_encode($ork_info)) . "\42\x20\x57\x48\x45\122\x45\x20\140\x69\x64\137\163\164\x6f\162\x65\x63\x6f\155\137\x69\x6d\x61\147\145\146\151\x6c\x65\140\x20\75\40" . (int) $distant_image["\x69\144\x69\x6d\x67"]; goto p2UCU; Bpxkg: StyYP: goto a05w3; PmD8Z: aA4u5: goto yg7mo; sRSUe: goto f6fv7; goto EEVXm; ysc3R: WTV6Z: goto rSI7R; M63Sc: $ork_info["\x6f\x72\x6b\x5f\145\162\162\157\162\137\144\145\x74\x61\x69\x6c"] = array("\x45\122\122\x5f\x49\x4d\107\72\40\x77\162\157\156\x67\40\x63\x6f\155\160\x72\x65\163\163\145\x64\x5f\165\162\154", $distant_image["\143\157\x6d\x70\162\145\163\x73\x65\144\x5f\x75\162\x6c"]); goto gU23v; yg7mo: $current_local_image = $local_images[$distant_image["\x69\144\x69\155\x67"]]; goto wr8fC; jl01i: $origin_size = filesize($local_image_path); goto ymdL3; gYOjv: $ork_info["\157\x72\x6b\137\x65\162\x72\x6f\162\137\144\x65\164\x61\x69\154"] = array("\105\x52\x52\137\111\115\x47\x3a\x20\145\155\x70\x74\x79\x20\x69\x6d\141\x67\145\x20\x64\x61\x74\x61", $distant_image["\143\157\x6d\x70\162\x65\163\163\x65\x64\137\x75\x72\154"]); goto hHKI9; sP3G9: $ork_info["\x63\x61\x6c\154\151\x6e\147\137\x69\x6d\147\x5f\x74\157\x5f\163\x61\166\x65"] = json_decode($compressed_image_data); goto xuUNf; hHKI9: $sql[] = "\125\120\x44\x41\x54\105\x20" . _DB_PREFIX_ . "\163\x74\x6f\x72\145\143\157\x6d\x5f\x69\x6d\141\147\145\x66\151\154\x65\x20\123\105\x54\40\x60\x73\x74\141\164\x75\x73\x60\40\x3d\x20" . (int) $compression_status["\145\162\x72\x6f\162"] . "\54\x20\140\157\x72\153\x5f\x69\x6e\146\157\x60\x3d\40\42" . pSQL(json_encode($ork_info)) . "\42\x20\x57\x48\105\122\x45\x20\x60\x69\x64\137\163\164\157\162\x65\x63\x6f\155\x5f\151\x6d\141\147\145\146\x69\x6c\145\140\x20\75\x20" . (int) $distant_image["\x69\144\151\155\x67"]; goto EDS9V; EEVXm: RxoxC: goto kUC1x; fMRir: if (!empty($compressed_image_data)) { goto DUDO2; } goto gYOjv; rSI7R: f6fv7: goto FwiRl; LGBgb: $local_image_path = _PS_ROOT_DIR_ . $current_local_image["\160\x61\164\x68"]; goto jl01i; BBS0j: RgXLL: goto dLwNj; xuUNf: $sql[] = "\x55\x50\104\101\x54\105\x20" . _DB_PREFIX_ . "\x73\x74\157\x72\x65\143\x6f\155\137\151\155\141\x67\145\146\151\154\145\x20\x53\105\x54\x20\x60\163\x74\141\164\165\163\x60\40\x3d\x20" . (int) $compression_status["\145\162\x72\157\162"] . "\x2c\x20\140\x6f\x72\153\137\x69\156\x66\157\x60\75\x20\42" . pSQL(json_encode($ork_info)) . "\42\40\x57\110\105\x52\105\x20\140\x69\144\137\x73\164\x6f\162\x65\143\x6f\x6d\x5f\151\155\141\147\145\x66\x69\x6c\x65\140\x20\75\x20" . (int) $distant_image["\x69\x64\151\155\x67"]; goto Eshyn; c0MEk: if ($write_file !== false) { goto RgXLL; } goto y4Fcw; p2UCU: goto WTV6Z; goto BBS0j; dLwNj: $sql[] = "\125\x50\104\101\124\105\40" . _DB_PREFIX_ . "\163\x74\x6f\x72\x65\143\157\x6d\x5f\x69\155\x61\147\x65\146\151\x6c\x65\12\x20\40\x20\x20\40\x20\40\x20\40\40\40\x20\x20\40\40\40\40\40\40\40\x20\x20\40\x20\x20\40\40\40\40\x20\x20\40\40\40\x20\40\40\x20\40\40\x20\40\40\x20\40\40\40\40\x20\x20\x20\x20\x20\x20\40\40\x53\105\x54\40\x60\163\164\141\x74\x75\x73\x60\x20\75\x20" . (int) $compression_status["\x63\x6f\155\160\162\145\163\x73\x65\x64"] . "\x2c\12\x20\x20\40\x20\40\40\x20\x20\x20\x20\40\x20\40\40\40\40\x20\40\40\x20\40\x20\40\x20\x20\x20\40\40\40\x20\x20\x20\x20\40\40\40\x20\x20\x20\40\x20\x20\40\x20\x20\x20\x20\40\x20\40\40\40\x20\40\x20\x20\x60\163\x69\172\145\137\143\x6f\x6d\x70\x72\x65\163\163\145\144\140\75" . (int) $distant_image["\x73\151\x7a\145\x5f\143\x6f\155\160\x72\145\163\163\145\144"] . "\x2c\12\40\x20\40\40\x20\x20\x20\40\40\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\40\x20\x20\x20\x20\40\x20\40\40\40\x20\40\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\x20\x20\x20\40\40\40\40\x20\40\x20\40\40\x20\140\x6f\x72\153\137\x69\x6e\x66\157\x60\75\x20\42" . pSQL(json_encode($ork_info)) . "\x22\xa\x20\x20\40\x20\40\40\x20\x20\40\x20\40\x20\40\x20\x20\40\x20\40\40\x20\x20\x20\x20\x20\40\x20\40\40\x20\40\40\40\x20\x20\x20\40\40\x20\x20\x20\x20\40\40\40\x20\x20\x20\x20\x20\40\40\40\x20\40\40\x20\127\110\105\x52\x45\40\x60\151\x64\137\163\x74\157\162\145\143\x6f\x6d\137\x69\x6d\141\147\x65\146\x69\154\x65\140\x20\x3d\40" . $distant_image["\x69\x64\x69\x6d\x67"]; goto ysc3R; Eshyn: goto zguB2; goto dD51X; kUC1x: $write_file = file_put_contents($local_image_path, $compressed_image_data); goto c0MEk; wr8fC: $compressed_image_data = sc_file_get_contents($distant_image["\x63\x6f\x6d\x70\x72\145\163\x73\x65\144\x5f\x75\x72\x6c"]); goto fMRir; gU23v: $sql[] = "\125\x50\104\101\x54\105\40" . _DB_PREFIX_ . "\163\x74\157\162\x65\x63\x6f\x6d\x5f\x69\155\141\147\x65\x66\151\x6c\145\x20\x53\x45\x54\x20\x60\163\164\x61\x74\165\163\140\x20\75\40" . (int) $compression_status["\x65\x72\x72\x6f\x72"] . "\54\40\140\x6f\x72\153\137\151\x6e\146\x6f\x60\75\x20\42" . pSQL(json_encode($ork_info)) . "\42\x20\x57\110\105\122\105\x20\140\151\144\137\163\x74\157\162\x65\x63\157\x6d\137\151\155\141\147\145\146\x69\154\x65\140\x20\75\40" . (int) $distant_image["\x69\x64\x69\155\x67"]; goto aNo4L; C9hor: $compressed_domain_url = hash("\x73\150\141\62\x35\66", $compressed_domain_url, false); goto OUx2M; ms9Y8: $ork_info["\157\162\x6b\x5f\163\164\x61\164\165\x73\x5f\x6d\145\x73\x73\x61\x67\x65"] = "\x53\x69\x7a\x65\40\x63\x6f\x6d\x70\x72\145\x73\163\145\144\40\151\x73\x20\x68\x69\147\150\145\162\40\164\150\x61\156\40\x6f\162\151\147\x69\x6e\141\x6c"; goto dzH9C; dzH9C: $sql[] = "\125\120\x44\x41\124\x45\x20" . _DB_PREFIX_ . "\163\x74\x6f\x72\145\143\157\x6d\x5f\x69\155\x61\147\x65\x66\x69\154\x65\40\x53\x45\x54\40\140\163\164\141\x74\165\163\140\40\x3d\x20" . (int) $compression_status["\x69\x67\x6e\157\x72\145\144"] . "\x2c\40\140\x6f\162\x6b\x5f\151\x6e\146\x6f\140\75\40\x22" . pSQL(json_encode($ork_info)) . "\42\x20\x57\110\x45\122\x45\40\x60\x69\x64\x5f\x73\x74\157\x72\x65\x63\x6f\155\x5f\151\155\x61\147\145\x66\151\154\145\x60\40\75\x20" . (int) $distant_image["\151\144\x69\155\147"]; goto sRSUe; OUx2M: if (!empty($distant_image["\143\x6f\x6d\160\x72\145\x73\x73\145\144\137\165\162\x6c"]) && is_string($distant_image["\143\x6f\155\x70\x72\x65\163\163\x65\144\137\x75\x72\154"]) && filter_var($distant_image["\x63\x6f\x6d\x70\x72\x65\163\x73\145\144\x5f\x75\162\x6c"], FILTER_VALIDATE_URL) !== false && $compressed_domain_url === $domain_compressor) { goto aA4u5; } goto M63Sc; dD51X: tmLcg: goto LGBgb; KdReM: DUDO2: goto ZG6SU; aNo4L: goto hhv2p; goto PmD8Z; FwiRl: zguB2: goto Bpxkg; ymdL3: if ($distant_image["\x73\151\172\145\137\143\x6f\155\x70\x72\x65\x73\163\x65\x64"] <= $origin_size) { goto RxoxC; } goto ms9Y8; EDS9V: goto StyYP; goto KdReM; y4Fcw: $ork_info["\157\x72\153\137\145\162\162\157\x72\x5f\144\x65\164\x61\151\154"] = array("\105\122\x52\x5f\111\115\x47\x3a\40\x49\x6d\x70\x6f\163\x73\151\x62\x6c\x65\x20\x74\x6f\40\x77\x72\151\164\x65\40\154\x6f\143\141\154\x20\x66\x69\154\145", $current_local_image["\160\141\164\150"]); goto JCqE8; ZG6SU: if ($compressed_image_data !== false && validImage($compressed_image_data)) { goto tmLcg; } goto sP3G9; g_YRg: } goto quyS7; JUUfm: pzxWA: goto F6oHz; DYrq2: bxuhn: goto yUUUu; f1IXY: jfi6w: goto JUUfm; jN_Z_: SCI::addLog($log_id . "\40\105\x52\122\137\x49\x4d\x47\x3a\40\151\x6d\141\x67\145\40\156\157\x74\x20\x66\x6f\165\156\144\x20\151\x6e\x20\x6c\x6f\x63\141\x6c\40\72\x20" . $distant_image["\151\144\151\x6d\147"] . "\55" . $distant_image["\x75\162\x6c"], 1, null, null, null, true); goto aFPCH; CqMy1: TvAC6: goto SP_7u; gfqKh: goto w4v5l; goto CqMy1; MZD_H: } goto C1aqB; zPwju: YBHCy: goto vhGjz; g_71A: FYE3a: goto Nqe3r; C1aqB: qp2Nf: goto xkj3V; YFOd_: jDZ2D: goto G_jGW; uPQ9b: $tmp = array(); goto kHS9R; DEC3V: $scFolderHash = Configuration::get("\x53\x43\x5f\x46\x4f\114\104\105\x52\137\110\x41\x53\110"); goto ljYsS; s1h8Y: die; goto VMxEJ; vhGjz: PrestaShopLogger::addLog($log_id . "\40\105\122\x52\72\x20\105\x6d\x70\x74\171\40\160\x61\x72\141\155\40\72\x20" . implode("\x2c", $param_err), 1, null, null, null, true); goto wvtAu; YXaBD: OPygT: goto Tb4Bk; Shaz_: Logger::addLog($log_id . "\40\105\122\x52\72\x20\x57\x72\x6f\156\x67\40\160\x61\162\141\155\40\72\40" . implode("\x2c", $param_err), 1, null, null, null, true); goto KrXXt; U3A8S: Logger::addLog($log_id . "\x20\105\x52\122\x3a\x20\105\x6d\x70\x74\171\40\160\x61\x72\141\x6d\40\72\40" . implode("\x2c", $param_err), 1, null, null, null, true); goto ePXoJ; VZ4jK: $local_auth = Configuration::get("\123\103\137\x55\116\111\x51\x55\x45\137\x49\104", null, 0, 0); goto B0YSl; As9uY: if (version_compare(_PS_VERSION_, "\x31\x2e\x36\56\60\x2e\63", "\x3e\x3d")) { goto YBHCy; } goto U3A8S; aHSXP: die; goto vS8LQ; UZT5e: header("\x48\124\x54\x50\57\x31\56\x30\40\64\60\x31\x20\127\162\157\x6e\147\x20\x66\x6f\154\x64\x65\162"); goto aHSXP; urGhg: goto R343w; goto NDVk9; mMJyI: Vw4dj: goto s33z6; KQKe1: $moduleDataProvider = new PrestaShop\PrestaShop\Adapter\Module\ModuleDataProvider($legacyLogger, Context::getContext()->getTranslator()); goto QG3At; eX4SX: IWKwQ: goto s0dkx; wVGKG: header("\110\124\x54\x50\57\x31\x2e\x30\40\x34\x30\61\x20\x4d\x69\163\x73\x69\x6e\147\40\160\141\162\141\x6d\x65\x74\x65\x72"); goto s1h8Y; Ff78v: x1pgG: goto nR2V3; VMxEJ: CYMW0: goto C7jSh; DDBeO: UPSWw: goto b_ZOq; Q_W2l: pY6IO: goto As9uY; s33z6: if (is_array($distant_images)) { goto x1pgG; } goto aXe_c; E6vY1: et4Sa: goto kYYPE; wvtAu: rhcy6: goto ZhSZX; I2zNf: $param_err[] = "\141\165\164\150"; goto G8TOY; d24Qd: JtyoR: goto cimB8; b_ZOq: if (!($local_version !== $distant_version)) { goto et4Sa; } goto U0f9R; csPjp: die; goto An5DV; XYN2s: SCI::addLog($log_id . "\x20\x45\122\122\137\x49\x4d\x47\x3a\x20\x65\155\160\x74\x79\40\x6c\x6f\x63\141\x6c\x5f\151\155\141\147\x65\163", 1, null, null, null, true); goto JjwqE; kzIoE: KOSLz: goto dc_g1; nL8qg: require_once "\56\x2e\x2f\56\x2e\x2f\56\56\x2f\56\56\57\143\157\x6e\146\151\147\x2f\143\x6f\156\x66\151\147\x2e\151\x6e\143\x2e\x70\x68\160"; goto pbUVa; nvhM3: if (!empty($_SERVER["\x48\124\x54\x50\x5f\117\x43\x49\x41\125\124\110"])) { goto O6YIO; } goto I2zNf; Rk6WY: PrestaShopLogger::addLog($log_id . "\40\x45\122\x52\x3a\x20\x53\x43\40\x66\157\154\144\145\x72\x20\x6e\157\164\40\146\x6f\x75\x6e\144", 1, null, null, null, true); goto UZT5e; K0wZM: $CRON = true; goto M2ddy; ePXoJ: goto rhcy6; goto zPwju; JfRRi: $legacyLogger = new PrestaShop\PrestaShop\Adapter\LegacyLogger(); goto KQKe1; AK5y0: $param_err[] = "\x76\x65\x72\x73\x69\157\156"; goto Y7iEc; Y7iEc: Gm102: goto bOK9F; yUrvv: header("\x48\124\x54\x50\x2f\61\x2e\60\40\64\x30\61\40\127\162\157\156\x67\40\160\141\162\x61\155\x65\x74\145\162"); goto csPjp; pRAkS: $param_err[] = "\x61\165\x74\x68"; goto g_71A; pw0fB: Logger::addLog($log_id . "\40\105\122\122\x3a\40\x4d\x69\x73\163\151\x6e\147\x20\x70\141\162\141\155\40\72\40" . implode("\x2c", $param_err), 1, null, null, null, true); goto urGhg; T9Tpw: L2Lkn: goto JfRRi; lfiSC: die; goto FMdgB; vS8LQ: goto KOSLz; goto kiwwJ; ZhSZX: header("\110\x54\x54\120\57\x31\x2e\x30\40\x34\x30\61\x20\x45\x6d\160\164\x79\40\x70\141\x72\x61\x6d\145\164\x65\162"); goto lfiSC; NDVk9: JbLjR: goto NW951; NTb7w: $distant_images = json_decode(file_get_contents("\x70\x68\x70\72\x2f\57\x69\x6e\160\x75\164"), true); goto ofq7O; nR2V3: if (version_compare(_PS_VERSION_, "\61\56\66\56\60\x2e\63", "\76\x3d")) { goto fRQ01; } goto Shaz_; dc_g1: function validImage($file_content) { $size = getimagesizefromstring($file_content); return strtolower(substr($size["\x6d\x69\x6d\x65"], 0, 5)) == "\151\x6d\141\x67\145" ? true : false; }
